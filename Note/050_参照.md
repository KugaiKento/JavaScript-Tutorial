# 参照

変数がオブジェクトそのものではなく、そのオブジェクトの「アドレス（場所）」を指している状態を指す。

## プリミティブ値のコピー

```JavaScript

let a = "hello";

let b = a;
```

この時変数 a は hello という値への参照を保持している。この hello の参照を保持している変数を b に代入したとすると、変数が参照している先の hello という値が別のメモリ空間に対してコピーされる。これに対して変数 b から参照が貼りなおされることになる。<br>

```JavaScript

let a = "hello";

let b = a;

b = "bye";
```

この b に対して再代入を行った場合は変数 b の参照先が hello から bye に変更することになる。

ここでのポイントは変数 a の参照先である値自体がコピーされているということになる。

このため、変数 b の値を変更した場合には変数 b の参照先が変わるだけで変数 a が保持している参照先の値自体が変わる訳ではない。

このようにプリミティブ型の値を格納する変数を他の変数に渡した場合にはそれぞれの値というのは独立して存在しているのでどちらかの値を変更してももう一方の値が変更されることはない。

## オブジェクトのコピー

```js
let a = {
  prop: "hello",
};
```

オブジェクトで prop というプロパティを定義して hello という値を代入した場合には a からオブジェクトへの参照に対して参照が貼られる。

```js
"Hello"
↑
{ prop }
↑
{...}への参照 // このオブジェクトへの参照がaに格納される。
↑
a
```

```js
let a = {
  prop: "hello",
};

let b = a;
```

これを変数 b に格納するとオブジェクトへの参照が、別のメモリ空間にコピーされるということになる。

こちらが保持しているのは`{ prop }`のオブジェクトへの実体なのでコピーされた後も 2 番地への参照を保持しているということになり、これが b に格納されるということになる。

```js
let a = {
  prop: "hello",
};

let b = a;

b.prop = "Bye";
```

この b の prop に対して Bye という値を格納した場合には、もともとの Hello に prop から参照が貼られていたところを、新しい値である Bye に対して参照を貼りなおすことになる。

ポイントは変数 a と変数 b は同じオブジェクトへの実体への参照を保持しているため prop というプロパティを変更した場合には a の方で参照しているオブジェクトの prop の値も変更されることになる。

このようにオブジェクトを保持している変数を他の変数に代入した場合にはプロパティを変更するとその変更がコピー元のオブジェクトにも影響することになる。
